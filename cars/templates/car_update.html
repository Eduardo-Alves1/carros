{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}

<header>
    <link rel="stylesheet" href="{% static 'css/app.css' %}">
    <link rel="stylesheet" href="{% static 'css/app-dark.css'%}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

</header>

{% block content %}

<div id="main">
    <div class="page-heading">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Editar Carro</h2>
                    </div>
                    <div class="card-content">
                        <div class="card-body">
                            <div class="form form-vertical">
                                <div class="form-body">
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="form-group has-icon-left">
                                                <label for="car-model">Modelo</label>
                                                <div class="position-relative">
                                                    {{ form.model|add_class:"form-control form-input input-required"|attr:'placeholder:Informe o Modelo do Carro'}}
                                                    <div class="form-control-icon">
                                                        <i class="bi bi-car-front-fill"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12">
                                            <div class="form-group has-icon-left">
                                                <label for="first-name-icon">Marca do Veículo</label>
                                                <div class="position-relative">
                                                    {{ form.brand|add_class:"form-control choices form-select"}}
                                                    <div class="form-control-icon">
                                                        <i class="bi bi-check2-square"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12">
                                            <div class="form-group has-icon-left">
                                                <label for="first-name-icon">Ano de Fabricação</label>
                                                <div class="position-relative">
                                                    {{ form.factory_year|add_class:"form-control form-input input-required"|attr:'placeholder:Informe Ano de Fabricação'}}
                                                    <div class="form-control-icon">
                                                        <i class="bi bi-calendar"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12">
                                            <div class="form-group has-icon-left">
                                                <label for="first-name-icon">Ano Modelo</label>
                                                <div class="position-relative">
                                                    {{ form.model_year|add_class:"form-control form-input input-required"|attr:'placeholder:Informe Ano do Modelo'}}
                                                    <div class="form-control-icon">
                                                        <i class="bi bi-calendar"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                       

                                        <div class="col-12">
                                            <div class="form-group has-icon-left">
                                                <label for="first-name-icon">Placa</label>
                                                <div class="position-relative">
                                                    {{ form.plate|add_class:"form-control form-input input-required"|attr:'placeholder:Informe a Placa do Veículo'}}
                                                    <div class="form-control-icon">
                                                        <i class="bi bi-car-front"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12">
                                            <div class="form-group has-icon-left">
                                                <label for="first-name-icon">Placa</label>
                                                <div class="position-relative">
                                                    {{ form.value|add_class:"form-control form-input input-required"|attr:'placeholder:Informe o Valor do Veículo'}}
                                                    <div class="form-control-icon">
                                                        <i class="bi bi-car-front"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div>
                                                 <label for="first-name-icon">Descrição</label>
                                                 {{ form.description|add_class:"form-control form-textarea"|attr:'placeholder:Informe uma Descrição do Veículo'}}
                                                 <small class="form-text text-muted">A descrição do veículo será apresentada na página de detalhes.</small>

                                            </div>
                                        </div>

                                        <div class="col-12">
                                            <div class="form-group">
                                                <label for="formFile">Foto Veículo</label>
                                                <div class="position-relative">
                                                    {{ form.photo|add_class:"form-control file formFile form-input input-required"|attr:'placeholder:Foto do Veículo'}}
                                                     <div class="form-control-icon">
                                                        <i class="bi bi-card-text"></i>
                                                     </div>
    

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


    </div>


    <div>
        <div class="buttons-container">

            {% if user.is_authenticated %}
            <input type="submit" value="Salvar Alterações" class="btn btn-primary">
            <a href="{% url 'car_delete' pk=object.pk%}" class="btn btn-danger">Deletar</a>
            <a href="{% url 'cars_list' %}" class="btn btn-secondary">Cancelar</a>

            {% else %}
            <p>Você precisa estar logado para editar um carro.</p>
            <a href="{% url 'login' %}" class="btn btn-primary">Login</a>

            {% endif %}
        </div>

    </div>

    </form>


</div>

{% endblock content %}